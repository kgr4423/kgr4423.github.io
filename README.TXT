※ This text file is written in UTF-8 code.

===========================================================================
【Ｃ Ｇ Ｉ名】　てがろぐ -Fumy Otegaru Memo Logger-   Ver 4.4.0
【登  録  名】　tegalog.zip
【著作権  者】　にしし/西村文宏
【対応  環境】　Perl5の実行可能な環境
【動作  確認】　Perl 5.14.4 ＆ 5.8.9 (on FreeBSD 11.2)
【開発  言語】　Perl 5.32.0 for Windows (on Windows10)
【公  開  日】　2024/07/06.
【配 布 種別】　フリーソフト
【転載  条件】　事前にメールでご連絡下さい。(詳しくは下記参照)
【連　絡　先】　https://www.nishishi.com/info/contact/
===========================================================================

--- 目次 ---
 ▼CGI紹介
 ▼導入方法
 ▼別スキンを一時適用させたい場合
 ▼データの自動バックアップ機能を使いたい場合
 ▼画像の投稿機能を使いたい場合
 ▼バージョンアップ方法
 ▼使い方
 ▼よくある間違い
 ▼使用条件・再配布・転載などに関して
 ▼免責
 ▼ご感想・ご要望募集
 ▼連絡先
 ▼このCGIの入手先
 ▼更新履歴

【CGI紹介】 ---------------------------------------------------------------

　このCGI「てがろぐ」は、手軽にメモやつぶやきを投稿しておく用途をベースにし
た個人または少人数向けマイクロブログツール(日記型掲示板CGI)です。「ブログ記
事にするほどではないけど、短いメモを自サイト上に残してしておきたい」という場
合にも便利です。自分専用(仲間内専用)のTwitterのような用途も想定しています。

　スキン式なので、スキンHTMLを書き換えればデザインや構成を自由自在に変更可能
です。設置サイトのデザインに合致した表示にカスタマイズしやすいでしょう。

　ユーザ認証機能付きで複数ユーザに対応していますから、少人数で共有する掲示板
やマイクロブログとしても使えます。簡易全文検索機能や年月日別閲覧機能に加えて
ハッシュタグ機能があるため、あとから過去の投稿を振り返ることも容易です。自動
バックアップ機能もあり、突然のトラブルでもデータ消滅の可能性を減らせます。 

【導入方法】 --------------------------------------------------------------

　以下にセットアップ方法を簡単に記しますが、詳細な導入・カスタマイズ方法は、
オンラインヘルプ(下記URL)をご参照下さい。そちらの方が遙かに詳しいです。

　▼てがろぐ公式サイト(HOME)：
　https://www.nishishi.com/cgi/tegalog/
　▼てがろぐ セットアップ(設置)方法：
　https://www.nishishi.com/cgi/tegalog/setup/

　このCGIは、Perl5が動作するWebサーバで使用可能です。(Perl 5.6以上)
　データベースは不要です。

　CGIモジュールと、Time::Localモジュールの2つが必須ですが、多くのサーバでは
何も準備しなくても使用可能でしょう。もし、サーバに両モジュールがインストール
されていない場合は、このCGIを格納したディレクトリに両モジュールのファイルも
一緒に設置した上で、tegalog.cgi本体ソースの中に含まれる「#use lib '.';」とい
う記述の先頭にある「#」記号を削除すると使えます。

　レンタルサーバ別のセットアップ方法を下記に用意しており、修正の必要があるか
どうかや、後述のパーミッションの値等も含めて個別に案内していますので、レンタ
ルサーバをご使用の場合にはそちらもぜひご覧下さい。
　https://www.nishishi.com/cgi/tegalog/setup/#howtoset

　以下は、汎用的なセットアップ方法を簡単に紹介したものです。

《事前準備》---
　tegalog.cgi の1行目にある「 #! /usr/bin/env perl 」は、たいていの環境では
そのまま変更せずに動作します。もし、500 Internal Server Errorになる場合は、
tegalog.cgi をテキストエディタで開いて、1行目を「 #! /usr/bin/perl 」もしくは
「 #! /usr/local/bin/perl 」などサーバ側が求める記述に修正して下さい。ここで
必要な記述は、お使いのサーバのヘルプに「Perlのパス」として記述してあることが
多いです。

《アップロード》---
　いま読んでいる[ README.TXT ]以外のすべてのファイルを任意のディレクトリに
アップロード後、パーミッション(属性)を次のように変更して下さい。
　※お使いのサーバで suEXEC が使えない場合は、カッコ内の方を設定して下さい。

　●tegalog.cgi      700 (755)： メインCGI （※これを実行します）
　●fumycts.pl       600 (644)： 補助プログラム
　●tegalog.xml      600 (666)： データ記録用XMLファイル
　●tegalog.ini      600 (666)： 設定記録用ファイル
　●psif.cgi         600 (666)： パスワード・セッションID格納ファイル
　　(↑拡張子がcgiですが実行はしません。700や755にはしないで下さい。)
　●skin-cover.html  604 (644)： 表示用スキン(テンプレートHTMLファイル：外側用)
　●skin-onelog.html 604 (644)： 表示用スキン(テンプレートHTMLファイル：内側用)
　●tegalog.css      604 (644)： 表示用スタイルシートファイル

　動作に最低限必要なのは、上記の合計8ファイルです。

　なお、下記の2サブフォルダは、それぞれの機能を使う際に必要です。
　(どちらも必須ではありませんが、backupフォルダは使うことをお勧め致します。)

　●backup フォルダ 705 (777) ：バックアップデータを保存する際に必要です。
　●images フォルダ 705 (777) ：投稿された画像データを保存する際に必要です。

　また、同梱の『(Recommend).htaccess』ファイルは、アクセス制御の参考のために添
付しています。このファイルは『.htaccess』というファイル名にリネームした上で設置
することをお勧め致します。必須ではありませんが、お使いのサーバで .htaccess ファ
イルが使えるなら、お使いになることを推奨致します。

　設置した後にもし、Internal Server Error などになる場合は、tegalog.cgi の1行目
を書き換える必要があるのかも知れません。また、CGIファイルは、テキストモード（ア
スキーモード）でWebサーバにアップロードする方が無難な点にもご注意下さい。

　Internal Server Errorになる場合は、下記のヘルプ項目もご参照下さい。
　https://www.nishishi.com/cgi/tegalog/setup/#internalservererror

　なお、主な検索サイトに捕捉されている比較的アクセスの多いサイトで稼働させ
る場合で、お使いのサーバでWAF（Web Application Firewall）が提供されているな
ら、WAFも併用する（＝WAFが有効になるよう設定する）ことをお勧め致します。WAF
が有効なら、Botからのアクセスに対するCGIの負荷軽減に役立ちます。

【別スキンを一時適用させたい場合】 ----------------------------------------

　標準で使用するスキンとは別のスキンを一時的に適用させて表示確認するには、
表示させたい別スキンの構成ファイルを、サブディレクトリへアップロードして下
さい。1スキンごとに1サブディレクトリが必要です。
　別スキンの適用は、管理画面から実行できます。

【データの自動バックアップ機能を使いたい場合】 ----------------------------

　投稿される度に直前の状態をバックアップファイルに保存しておく、自動バック
アップ機能を搭載しています。この機能を有効にするには、CGIを設置したディレク
トリ内に、backup というサブディレクトリを作り、適切にパーミッションを設定す
る必要があります。パーミッションの設定方法は前述の通りです。

【画像の投稿機能を使いたい場合】 ------------------------------------------

　画像の投稿機能を使いたい場合は、画像を保存するためのディレクトリを用意す
る必要があります。CGIを設置したディレクトリ内に、images というサブディレク
トリを作り、適切にパーミッションを設定する必要があります。パーミッションの
設定方法は前述の通りです。

【バージョンアップ方法】 --------------------------------------------------

　以前のバージョンからアップデートする場合は、当CGIのプログラムファイルであ
る、tegalog.cgi と fumycts.pl の2ファイルのみを上書きアップロードして下さい。
　片方しかアップデートしなければ、たいていは Internal Server Error になりま
すのでご注意下さい。
　それ以外のファイルをアップロードする必要はありません。特に、データファイル
(tegalog.xml)を上書きしてしまうと過去のデータが消えてしまいますので、くれぐ
れもご注意下さい。

　※てがろぐ本体ファイルを（ソース中に記載した設定値を保持して）1クリックで
バージョンアップできる専用PHPスクリプト「TegUp」も配布していますので、ぜひ
ご活用下さい。

【使い方】 ----------------------------------------------------------------

　tegalog.cgi をブラウザで表示させます。
　管理用ページを表示するには tegalog.cgi?mode=admin をブラウザで表示させます。

　パスワード保存用ファイル「psif.cgi」の中身は空っぽのままアップロードして下
さい。このファイルが空っぽの場合は、管理用ページに無条件でログインできます。
　ログイン後にパスワードを設定して下さい。（パスワードを未設定のまま使い続け
るのはセキュリティ的に望ましくありませんので、必ず設定してお使い下さい。）

　詳しくは、公式サイトの「使い方・設定方法」ページをご覧下さい。
　https://www.nishishi.com/cgi/tegalog/usage/

【よくある間違い】 --------------------------------------------------------

　表示用スキンファイル（テンプレートHTMLファイル）をブラウザで表示させても
意味がありませんのでご注意下さい。
　skin-cover.htmlなどのHTMLファイルは、ただのテンプレートです。実際に閲覧す
るためには、ブラウザで tegalog.cgi を表示させなければなりません。

【使用条件・再配布・転載などに関して】 ------------------------------------

　＜使用条件＞
　このCGIは、どなたでも無償でご使用頂けます。商用・非商用の区別なく、個人で
も法人でも、一般公開サイト・非公開サイトなど場所を問わずにご使用頂けます。
　ソースのカスタマイズもご自由になさって頂いて結構ですが、CGIの著作権表示や
バージョン表記とそれに伴うリンクは、削除したり隠したり極端に見えにくくしたり
せず、平均的な人類が苦労せずに読める文字サイズと配色でブラウザに表示される
状態でお使い下さい。(必須)

　＜再配布＞
　不特定多数への再配布はせず、公式配布ページである下記のURLをご紹介下さい。
　https://www.nishishi.com/cgi/tegalog/
　不特定多数を対象とはせず、「特定の少人数」だけを対象にして個別に受け渡す方
法での再配布であれば特に禁止はしませんが、付属のドキュメントを修正したりCGI
ソースを修正したりするなどの方法で、著作権の所在を分からなくした状態で再配布
してはいけません。

　＜レンタルCGI禁止＞
　当CGIを不特定多数の人々へレンタルするサービスにお使い頂くことはできません。
　(有償・無償問わず)

　＜転載・収録＞
　雑誌での紹介や、紙雑誌の付録メディアへの収録は歓迎致します。特にご連絡頂か
なくても結構ですが、事前にご連絡頂ければ、作者の個人ブログなどで貴誌を宣伝さ
せて頂きます。見本誌のご送付は不要です。

　上記に記されていないことに関しては、著作者へメールでお問い合わせください。
　このソフトウェア(CGI)の著作権は、にしし(西村文宏)が所有しています。
　すべてのメールは、後述の宛先までお送りください。

【免責】 ------------------------------------------------------------------

　このCGIの使用によって、使用者や使用環境等にいかなる損害を与えたとしても、
製作者及び公開者は、その責を一切負いません。使用者個人の責任でご使用下さい。
　しかし、バグ修正や機能改善などは、製作者が開発に興味を持っている限りは実施
していきたいと考えております、ご要望がありましたら、ぜひメールなどでお知らせ
下さい。

【ご感想・ご要望募集】　あなたのメールが、明日の開発意欲の源です！ --------

　このCGIに関してのご要望などをお待ちしています。些細なことでもお気軽にお寄
せ下さい。実現可能なら、将来のバージョンで実現させたいと思っております。
　ご感想もぜひお聞かせ下さい。ユーザの方々からのご感想メールが、明日の開発意
欲につながります。一言でも結構ですので、ぜひメールをお寄せ下さい。
　メールの宛先は、下記をご参照下さい。

【連絡先】 ----------------------------------------------------------------

　製作者への連絡は、下記ページに記載のメールアドレスまでお送り下さい。
　https://www.nishishi.com/info/contact/ (←メールアドレスはここに記載)

　製作者運営のウェブサイトURL
  https://www.nishishi.com/
　(＆ https://www.nishishi.org/ )

　製作者の都合などにより、メールアドレスやウェブサイトが変更になる可能性も
あります。その場合は、下記に挙げる外部サイトなどから、最新のコンタクト先な
どをご確認ください。
　https://twitter.com/nishishi (Twitter)
　https://bsky.app/profile/nishishi.bsky.social (Bluesky)
　https://pawoo.net/@nishishi (Mastodon:Pawoo)
　https://www.facebook.com/nishishi (Facebook)
　https://allabout.co.jp/gm/gp/332/ (All About)
　https://www.vector.co.jp/vpack/browse/person/an014111.html (Vector)

【このCGIの入手先】 -------------------------------------------------------

　このCGIのオリジナル(最新版)は、次の場所で公開しています。
　バグ修正などを行っている場合もありますので、定期的にお越し下さい。
　https://www.nishishi.com/

　なお、最新バージョンの公開動作テスト版は下記のURLで公開しています。
　https://www.nishishi.org/testground/tegalog/
　書き込みテストやご質問などにご活用頂けます。

　最新β版の配布がある場合もあります。動作テストにご協力頂ければ幸いです。
　https://www.nishishi.com/cgi/tegalog/nextversion/


【更新履歴】 --------------------------------------------------------------

　更新点の詳細は、リリースノートをご覧下さい。
　https://www.nishishi.com/cgi/tegalog/releasenotes/

　[Ver 4.3.0 → Ver 4.4.0]　(2024/07/06)

　《大きな不具合の修正》
　■ある条件を満たすと『簡易適用スキンの設定が勝手に切り替わってしまう』バグ（表示上の問題）を修正。
　
　《大きな機能追加》
　■文字装飾で実際に出力されるHTML要素の変更機能。
　■検索語のハイライトに使われるHTML要素を strong 以外に変更できる機能。
　
　《細かな機能追加》
　■鍵付き投稿で、本文の1行目だけでなくさらに2行目も常時見せるようにできる設定機能。
　■ログイン者限定動作時にTOPに表示されるメッセージを自由に書き換える機能。
　■ハッシュタグ未集計時の文言の変更機能。
　
　《仕様改善》
　■任意のディレクトリにあるスキンを手動指定できる設定項目を、条件によっては非表示にするよう改善。
　■文字装飾記法の「隠す」を使って隠される範囲全体を指定要素で囲むよう改善。
　■高負荷Botへの軽い対策を追加。
　■別タブで開くリンクにrel属性も出力する仕様改善。
　
　《その他の不具合修正》
　■IF文の条件にパーセントエンコーディングされた文字列を含めると、IF文として解釈されなくなる不具合を修正。
　■カテゴリ概要文にHTMLを使用可能にしているとき、カテゴリツリーではソースがそのまま見えてしまっていた不具合を修正。

　[Ver 4.2.0 → Ver 4.3.0]　(2024/05/17)

　《新機能：大》
　■隣接投稿の一括閲覧機能（隣り合う投稿をまとめて表示する機能）の追加。
　■「その状況で表示対象になっている投稿」だけに限定した隣接投稿に移動できる機能（※同カテゴリに限定した隣接投稿への移動機能）の追加。
　■条件指定パラメータを引き継いだ単独投稿にリンクできる記法（＝「その状況で表示対象になっている投稿」だけに限定した隣接投稿に移動できる機能が使える状態の単独投稿へリンクできる記法）の追加。
　■ログイン済みでないとどのページも閲覧できなくする「ログイン者限定表示」機能の追加。
　■新規投稿/編集画面に自由なHTML(edit.htm)をスキン別に加える機能の追加。

　《新機能：中》
　■そのとき限定されているカテゴリの各種情報を挿入できる専用記法の追加。
　■ゲストIDで投稿を禁止する設定（＝ログイン者限定表示と併用することで「読者用ID」になる機能）の追加。
　■リスト記法で、リストの種類や記号を指定するオプションを使っている場合でも、さらに任意のclass名を指定できる機能を追加。
　■SITEMAP XMLを静的ファイルに出力する機能。
　■カテゴリの概要文でHTMLを使えるようにできる設定の追加。

　《新機能：小》
　■カスタム絵文字のファイル名にハイフン・ドット・アンダーバーが含まれているとき、それらで分割した文字列を使ったclass名をさらに加える機能。
　■アタック目的のアクセスを簡易的に検出して拒否する(400 Bad Requestを返す)機能。

　《仕様改善》
　■既存ハッシュタグ簡単挿入機能で、ハッシュタグの後ではなく前に半角スペースを挿入できる(または一切挿入しない)設定機能を追加。
　■「任意URLリンク」ボタンで、リンク先が丸括弧で囲まれる場合には、直後に半角スペースを自動挿入しない仕様に改善。
　■データファイルを読むよりも前にパラメータの不正をチェックすることで、無駄なデータ読み込みを発生させないよう改善。
　■QUICKPOSTで投稿欄が空っぽの状態で投稿したときの動作を改善。
　■投稿単独表示時の隣接投稿への移動先解釈の改善。
　■管理画面のボタンの行高を固定することで、一部のモバイル端末でボタンの高さがガタガタになる現象を解消。
　■YouTubeの埋め込みに「ライブ動画の共有用URL」も使用可能に。

　《不具合修正》
　■URLを丸括弧で囲む [ラベル](URL) 記法の直後に半角丸括弧を書いたとき、記法末尾の「)」記号がURLの一部だと誤解されてしまう不具合を修正。

　[Ver 4.1.0 → Ver 4.2.0]　(2023/12/14)

　《新機能》
　■画像一覧モードの追加（投稿本文で使われているかどうかに関係なく、画像保存用ディレクトリに存在する画像すべてを一覧表示するモード）
　■複合検索機能で、検索結果を表示するモードを維持または強制指定できるオプションを追加。
　■スキン内に IF文を使って、状況に応じてHTML自体の出力を切り替えられる機能（専用記法 [[IF(条件): ～ :IF]] ）を追加
　■ランダム表示モードでも、表示対象を絞り込める機能を追加
　■前のページに移動するリンク《だけ》を出力できる記法 [[NAVI:PREV]] を追加。
　■次のページに移動するリンク《だけ》を出力できる記法 [[NAVI:NEXT]] を追加。
　■リンクを作る際に、従来の [ラベル]URL 記法に加えて、URLを丸括弧で括る [ラベル](URL) 記法も使用可能にしました。
　■リンク先URLを、相対パス(../page.html)や、絶対パス(/path/to/file.html)でも指定できるようにしました。
　■HOMEページの静的HTML出力機能（HOMEページだけを index.html ファイルにも出力できる機能）を追加。
　■ユーザ紹介文を出力する記法 [[USERINTRO]] を追加
　■リンク先として mailto: や tel: のURIスキームを使って、メールアドレスや電話番号へもリンク可能にしました。
　■リンク個別に、任意のclass名を付加できるオプション記法を追加しました。
　■リンクラベルにオプション「 :NEW 」を加えると、そのリンクだけに target="_blank" を出力する機能を追加しました。
　■リンクラベルにオプション「 :NF 」を加えると、そのリンクだけに rel="nofollow" を出力する機能を追加しました。
　■CodePenを埋め込む機能(記法のみ)を追加。
　■「任意URLリンク」ボタンを押してリンク先URLを入力した際に、URLに縦棒記号「|」が含まれていれば自動的に %7C に置き換える仕様を追加。
　■「任意URLリンク」ボタンを押したときに、範囲選択されている範囲内に半角角括弧がある場合は、それぞれ &#91; と &#93; に置き換える仕様を追加。
　■サムネイル画像がUPされている画像には、画像情報編集画面でもサムネイル画像へのリンクが表示されるように。
　■投稿一覧画面で表示対象を絞り込んでいる際には、「絞り込みを解除する」リンクも表示。
　■管理画面のTOPに、稼働しているPerlのバージョンを表示。

　《仕様改善》
　■ツイートのURLが x.com ドメインになっていても埋め込めるようにしました。
　■リンクを新規タブに表示するよう設定している場合は、「Twitterで見る」のリンクも同様に新規タブに表示するよう改善。
　■検索窓に加わるチェックボックスで、ラベルとして表示される文字列だけを、さらにspan要素で囲むよう改善。（ラベルだけを装飾したい場合や、JavaScriptで書き換えたい場合などに処理しやすいように。）
　■ナビゲーション系の記法で、リンク先URLの末尾に余分な & 記号が付いた状態で出力されてしまうケースがあったが、付かないように改善。
　■内側スキンで [[COMMENT:LINE:3]] のように、特定の1行だけを抽出する記法では、最後に必ず <br /> タグが付加されていたが、付加されない仕様に改善。
　■これまで $howtogetpath の値を変更しないと正常動作しなかったサーバでも、(おそらく)書き換えなくても動作するように改善。

　《スキン更新》
　■画像一覧モードで使うための新スキン「skin-picts」を追加。(※完全版ZIPにのみ同梱)

　《不具合修正》
　■ラベル付きリンクを書いた際に、リンク先URLの途中にさらに「 http:// 」の文字列が出てくるとリンク表示が崩れてしまうバグを修正。
　■ギャラリーモードやサイトマップページモードで複合検索窓を使うと、表示中のモードが解除されてしまう問題を解決。(※スキンの書き方によってはスキン側に識別子を追記する必要あり)
　■新着画像リストの表示設定で、『サムネイル画像があればサムネイルの方を表示』を設定していても効いていなかった不具合を修正。
　■GALLERY、SITEMAPの各モードで日付境界バーを表示したときに、「この範囲を時系列順で読む」のリンクを使うと表示モードが解除されてしまう(＝表示モードを維持できない)不具合を解消。
　■新着画像リストの出力で [[IMAGELIST:GALLERY]] 等のように表示モードを指定しても効いていなかった不具合を修正。

　[Ver 4.0.0 → Ver 4.1.0]　(2023/08/26)

　《新機能》
　■カスタム絵文字機能。
　■手動入力された投稿日時も含めて、全投稿を投稿日時の新しい順に再ソートする機能。
　■全投稿の投稿番号をNo.1から昇順に連番で振り直す機能。
　■鍵付き投稿機能で個別鍵（個別のパスワード）も使えるようにする機能
　■全投稿を一括調整する機能を使用禁止に設定できる機能。
　■日付境界バーの出力状況を選択できる設定オプション。
　■Apple Musicの配信音楽の埋め込み機能。
　■YouTubeショート動画の埋め込みに対応。
　■Instagramのリール動画の埋め込み機能。
　■Spotifyアプリの新バージョンが出力するURLでの埋め込みに対応。
　■色指定時の記法を拡張（RGBAカラーモデルを使った「透明度も含んだ色」も指定可能に。RGB値を10進数でも指定可能に。16進数のRGB値を3桁でも指定可能に。）
　■「続きを読む」機能で隠されている文字数を「続きを読む」ラベル内に表示できる専用記法の追加。

　《仕様改善》
　■画像ファイル名にハイフン記号が含まれていても（ファイル名を維持する設定なら）そのままアップロードできるように。
　■既存画像の挿入記法で、多バイト文字が使われたファイル名も許容する設定を追加。
　■制限サイズを超えている画像のファイルサイズを赤色で表示（※上限を無制限に設定されている場合でも、設定値を超えていれば参考までに赤色で表示）
　■カテゴリツリーを構成するli要素にも、カテゴリIDをベースにしたclass名を付加。
　■ボタンを出力するinput要素を、CSSで装飾しやすいように <span class="submitcover"><input type="submit" ...></span> のように別のspan要素で囲む仕様を追加。
　■Spotifyの埋め込み領域を囲むspan要素のclass名を「embeddedmusic」から「embeddedmusic embeddedspotify」に拡張。(Apple Musicの埋め込みと区別するため）
　■本文中に含まれるコロン記号が数値文字参照「&#58;」として出力される問題(仕様)を修正。

　《不具合修正》
　■適用スキンを維持するためのリンク自動調整仕様でlink要素に対して不要な調整を加えてしまう不具合を修正。

　[Ver 3.9.0 → Ver 4.0.0]　(2023/04/29)

　《新機能：安全関連》
　■ログインセキュリティ機能：ログインに1回失敗したら直後に約2秒間だけロックする機能
　■ログインセキュリティ機能：ログインに連続で指定回数失敗したら、ログイン処理を指定分間ほどロック(拒否)する機能
　■許可したIPアドレス以外からのログインを拒否できる設定を追加。

　《新機能：その他》
　■予約投稿機能を追加。
　■設定に『上書きスタイルシート』項目を新設し、そこに書いたCSSソースを「スキンのhead要素末」または「スキン内の指定箇所」に挿入できる機能を追加。

　《新機能：サイドコンテンツ関連》
　■新着投稿リストをカテゴリ別に出力できるオプションを追加。
　■OGP(og:image)に出力される画像がNSFWフラグ付きだった場合は、その画像ではなく代替画像を出力させる設定項目を追加。
　■RSSフィード内に出力される画像がNSFWフラグ付きだった場合は、og:imageと同じ代替画像にすべて差し替える設定項目を追加。
　■ハッシュタグの集計を停止する機能（ハッシュタグを集計しないようにする機能）。
　■ハッシュタグ一覧の表示順設定を、投稿数に関係なく文字コード順(昇順/降順)に固定する機能。
　■[[SITUATION:CLASS]] に、表示モード名を示すclass名を追加。
　■[[SITUATION:CLASS]] で、スキン指定がない場合のHOMEページを表す専用のclass名 grandhome を追加。
　■文字数を指定して本文の一部分を抽出する記法で、三点リーダではない任意の記号を指定できる新記法 [[COMMENT:TITLE:文字数:省略記号]] 等を追加。

　《新機能：バックアップ関連》
　■設定ファイル tegalog.ini のバックアップ機能を追加。
　■画像インデックスファイルのバックアップ機能を追加。

　《新機能：細々》
　■YouTubeの動画埋め込み時に、再生開始位置(秒数)を指定可能に。
　■YouTubeの動画埋め込みサイズを任意に指定可能に。
　■Spotifyの音楽埋め込みサイズを4種類から選択可能に（自由サイズの指定も可能に）。
　■新着投稿リスト(LATESTLIST)に、所属カテゴリ名を表示できる記法を追加。
　■スキンのプレビュー適用時に、絶対パスや上位ディレクトリを参照する相対パスの記述での指定を許可するか禁止するかを設定可能に。
　■Powered-by表記のリンクを別タブでのリンクにできる新記法 [[VERSION:NEWTAB]] を追加。（a要素に target="_blank" rel="noreferrer noopener" の2属性を付加。）

　《仕様改善》
　■自由装飾記法のclass名として、（英数字以外に）ハイフン記号とアンダーバー記号も使用可能に。
　■「補助出力」設定で、ギャラリーモード等のためのスキンディレクトリの指定でも相対パスを使用可能に。（従来は / や . 等の記号が強制削除されていました。）
　■Spotifyの音楽埋め込みにも loading="lazy" を付加。
　■新着画像リストを装飾するCSSを書きやすいように、リスト内の1項目ずつを囲むマークアップを追加。
　■日付一覧にリストアップされる年月リンクの「年」や「月」という漢字だけをCSSで装飾できるよう、出力マークアップを追加。
　■日付一覧・日付検索のリストで、2000年より古い日付もリストアップできるように改善。（ただし1970年以降のみ）
　■日付境界バー内部の日付表記やリンクをCSSで装飾しやすいように、マークアップとclass名を追加。
　■ギャラリーモードやサイトマップページモードでの表示時に「状況に応じた見出し行」に表示される名称を装飾しやすいようマークアップを追加。
　■下げた投稿を新着投稿リストには掲載しないよう仕様改善。

　《スキン更新》
　■NSFWフラグ付きの画像が新着画像リストに表示されるとき、ぼかしが枠からはみ出ないようCSSを修正。
　■Chromium系ブラウザで（キャプションありの）NSFWフラグ付き画像を表示したときに、画像の下側のぼかしが枠からはみ出てしまうCSSを修正。

　《不具合修正》
　■新着画像リストを構成するHTMLソースに、img要素のalt属性値が重複して出力されていた不具合を解消。
　■『画像リンクに独自のclass属性値を追加』にチェックが入っている状態で、その直下のテキスト入力欄が空っぽのとき、『空白の連続を再現 (半角空白文字の連続をそのまま見せる)』項目がONの状態だと、フラグ付き画像のclassが正しく適用されなくなる問題を解消。
　■投稿日時として50年以上前の日付を指定すると、相対時間表記（＝投稿時点からの経過時間の表記）が正しくなくなる問題を修正。
　■[[CATEGORYLINKS:SITEMAP]] 等の記法を使っても「カテゴリなし(cat=-)」の場合はデフォルトスキンでの表示になってしまう不具合を修正。
　■簡易本番適用中のスキンを削除した後でログアウトしてしまうと、「スキンが見つからない旨のエラー画面」と「ログイン画面」との間を無限に行き来するだけになってしまう不具合を解消。
　■設定『本文中のテキストリンクを絶対URL(フルパス)で出力する』項目がONだと、 [[HASHTAG:PULL:GALLERY]] 等の記法を用いてもモード指定リンクにならない不具合を解消。
　■共通鍵が設定されていない状態で設定画面にアクセスした際に、サーバのエラーログに Use of uninitialized value $setdat{"skcomh"} in string ne at tegalog.cgi line 9966 のようなアラートが記録される問題を解消。

　[Ver 3.8.0 → Ver 3.9.0]　(2023/01/24)

　《新機能：画像投稿関連》
　■新着画像リスト（最近UPされた画像の一覧）出力機能。
　■UPされた画像1つ1つにキャプションやフラグ等を事前登録しておける画像インデックス機能。
　■画像をキャプション付きで表示できる新記法を追加。
　■画像のキャプションをその都度指定できる新記法を追加。
　■その画像に対応したサムネイル画像が存在する場合には『ページ上の表示にはサムネイル画像を使い、Lightboxでのリンク先にはオリジナル画像を使う』ように表示できる機能を追加。
　■投稿本文内に含まれる画像をすべて抽出して表示できる記法を追加。

　《新機能：ページ上の表示関連》
　■インスタグラムの埋め込み機能。
　■投稿日付の表示に（n分前、n時間前、n日前……のような）経過時間を表示できる日付表記オプション。
　■ページ番号の省略を始める総ページ数を自由に設定できる機能。
　■ページ番号リンクの両端（先頭と末尾）に何ページずつ固定表示するかを変更できる機能。
　■サイドコンテンツ各種でもギャラリーモードやサイトマップページを維持したリンクを出力できる新記法。

　《新機能：表示を拡張する新記法》
　■「続きを読む」ボタンのラベルをその都度指定できる新記法を追加。
　■リストを表示するための専用記法。（箇条書きリストや番号付きリストが表示可能に）
　■投稿本文の行数が得られる記法を追加。(内側スキンのみ)
　■RSS Auto-Discoveryを挿入する記法を追加。(外側スキンのみ)

　《新機能：スキンのカスタマイズ関連》
　■上位ディレクトリや別階層に存在するスキンでもプレビューしたり簡易適用したりできる機能。
　■投稿本文内の、任意の範囲をコメントアウトできる記法。
　■各種ディレクトリのパス(PATH)を得られる新記法を追加。
　■スキン内に記述されている link要素やform要素に対して、「現在のスキンでの表示を維持する」目的で自動挿入される各種記述をスキップできる記法を追加。
　■[[INCLUDE:～]] 記法と [[PATH:～]] 記法を、内側スキンでも使用可能に。(従来は外側スキン専用でした)
　■任意のファイルを挿入できる INCLUDE 記法の仕様拡充。

　《新機能：設定項目》
　■記述サンプルを自動入力するかどうかの設定項目と、文字色や背景色として自動入力するサンプル文字列の設定項目を追加。
　■ログインフォームの下部に表示できるメッセージを設定画面で設定できる機能。
　■ハッシュタグだとは認識されない「 # 」記号を簡単に表示させる方法として、「&#35;」を入力できる項目をハッシュタグ簡単入力プルダウンメニューに追加できる機能を追加。
　■投稿本文中にAmazonのURLが書かれたとき、自動で極力短く加工する機能を追加（標準ではOFF）。

　《仕様改善》
　■拡大画像をLightboxで表示できるテキストリンクを作る記法に、「画像リンクに独自のclass属性値を追加する」と同じclass属性値も追加されるよう仕様改善。
　■全文検索の強調表示では、半角英字の大文字小文字が一致しなくても強調対象になるよう仕様改善。
　■上位ディレクトリを参照するパスで画像が指定されたときに、ファイルが見つからなければ注釈を含むエラーを表示するよう仕様改善。
　■デフォルトで読み込むjQueryやLightboxを最新版にバージョンアップ。

　《スキン更新》
　■標準添付の各スキンを更新

　《不具合修正》
　■「スラッシュで始まる絶対パス」で画像が指定されたとき、画像のURLが正しくなくなって画像が表示されない不具合を解消。
　■「続きを読む」記法が使われている状態で、設定画面から「続きを読む」機能をOFFにすると、Internal Server Errorになる不具合を修正。
　■「skin=」パラメータでスキンが指定されているとき、投稿本文内のハッシュタグをすべて抜き出す記法 [[COMMENT:TAGS]] が動作しない不具合を解消。
　■ハッシュタグに半角アンダーバー「_」を使うと、既存ハッシュタグ簡単入力用プルダウンメニューでは角括弧付きでリストアップされる不具合を修正。
　■内側スキンで [[CATEGORYLINKS:FULL]] と書いても、カテゴリページへのURLがフルパスでは出力されない不具合を解消。
　■投稿単独ページのURLを挿入する [[PARMAURL]] キーワードのスペルを [[PERMAURL]] でも認識するよう改善。
　■「Unrecognized escape \\v passed through at tegalog.cgi」というアラートがサーバのエラーログに記録される問題を解消。
　■サーバのエラーログに「CGI::param called in list context」のようなアラートが出力されるのを防ぐよう改善。
　■設定画面のHTMLにいくつか存在していた文法ミスを修正。
　■リンクラベルの中に &#35; での # 記号が入っていても正しくラベルとして使えるよう仕様を修正。
　■「続きを読む」機能を入れ子にして使うと、ボタンラベルが正しく出力されないケースがある不具合を修正。

　[Ver 3.7.0 → Ver 3.8.0]　(2022/09/19)

　《新機能》
　■鍵付き(パスワード保護)投稿機能を追加。
　■検索結果の表示時に検索語をハイライト(強調)できる機能を追加。
　■OGPの出力選択肢を拡充。og:title と og:description 用に抜き出す対象を選択する機能を追加。

　■「続きを読む」機能で隠された範囲はOGP(＋TwitterCard)に含まないよう仕様改善。(OGPでネタバレを防ぐため)
　■「続きを読む」機能で隠された範囲はRSSフィードに含まないよう仕様改善。(RSSフィードでネタバレを防ぐため)
　■『一覧にリストアップされないハッシュタグ』として機能する、隠れハッシュタグ仕様を追加。(「#-」で始まる形式)

　■全文検索機能の対象範囲を拡張。(カテゴリID、カテゴリ名、投稿日付、ユーザID、ユーザ名、投稿番号、投稿状態でも検索可能に。)
　■検索専用コマンドで検索対象を限定する機能を追加。

　■投稿の状態「先頭固定(fix)、鍵付き(lock)、下げる(rear)」を得てclass名等に活用できる [[POSTSTATUS]] キーワードを新設。
　■複数投稿の連結表示機能を追加。(パラメータ ?posts=123,135,179 で No.123、No.135、No.179の3つが連続表示される機能)
　■複数投稿が連結表示されている状況で [[SITUATION:CLASS]] に挿入されるclass名「somelogs」を新設。
　■複数投稿を連結表示するページへリンクする各種記法の追加。

　■リンク挿入ボタン「投稿No.リンク」でも投稿番号の複数列挙に対応。
　■検索結果へリンクできる専用記法 [>S:検索語]、[>S:検索語:リンクラベル] を追加。
　■検索リンク [>S:検索語] を挿入できるリンク挿入ボタン「検索リンク」の追加。
　■スキン側の不備を自動補完する仕様を追加。(自動補完を拒否する仕様も追加)

　《スキン更新・改善》
　■標準添付各スキンに、鍵入力フォームを装飾するためのCSSを追加。（特殊用途を除く全スキン9種類）
　■文字コードの指定部分 <meta http-equiv="Content-Type" content="text/html; charset=[[CHARCODE]]"> を <meta charset="[[CHARCODE]]"> に修正。
　■「Twitterっぽいスキン(ブルー／ピンク)」のskin-onelog.htmlに含まれる <div class="onelog"> のclass名を onelogbody に変更。（※状況に応じた装飾に使える [[SITUATION:CLASS]] が出力する .onelog と重複して装飾がおかしくなるのを避けるため。）

　《仕様改善》
　■カテゴリツリーに「カテゴリなし」項目を追加したとき、装飾用のclassが付かなかった仕様を改善。(他項目と同様に class="catlink cat-" と出力するよう改善)
　■ツイート埋め込み部分が、RSSフィードには『（ツイート埋め込み処理中...）Twitterで見る』のように処理途中であるかのように出力されてしまう仕様を改善。
　■Spotify埋め込み部分が、RSSフィードには大きなブランクとして出力されてしまう場合がある問題を改善。
　■RSSモードでは、YouTube・Spotify・ツイートの埋め込み部分を単なるテキストリンクとして収録するよう仕様修正。
　■3つ以上の単語を使ってOR検索した際の「状況に応じた見出し」の表示を改善。

　《不具合修正》
　■設定の『本文中のテキストリンクを絶対URL(フルパス)で出力する』項目がONだと、ハッシュタグの抽出に失敗する不具合を解消。
　■画像のファイル拡張子が正しくないときに、縦横サイズの取得結果がおかしくなる不具合を解消。
　■カテゴリをプルダウンメニューで表示すると「カテゴリなし」が（表示する設定にしていても）表示されない不具合を解消。
　■カテゴリツリーの階層(ul要素)に加えられるclass名「depth + 数値」の出力が正しくなかった不具合を解消。
　■ツイートを埋め込む際に mobile.twitter.com 等のサブドメインが付いているURLだと埋め込まれない問題を解消。
　■日付リストで『月が1桁の場合は、先頭に0を加えて2桁にする』項目がOFFのとき、日付別のリンク先が不正なURLになるバグを修正。

　[Ver 3.6.0 → Ver 3.7.0]　(2022/06/09)

　《機能追加》
　■下書き投稿を（非公開状態のままで）プレビューできる機能を追加。
　■下げる機能（通常では表示されないが、指定条件下や単独表示時のみ表示されるようにする機能）を追加。
　■状況に応じた見出しの表示バリエーション選択機能と装飾仕様を追加。
　《設定機能追加》
　■管理画面のページタイトル先頭に任意の識別名称を付与できる設定機能を追加。
　■管理画面に表示される各種「削除ボタン」を（左寄せではなく）右寄せで表示できる設定機能を追加。
　《仕様改善》
　■tegalog.cgi の1行目を、書き換えなくても済む可能性の高い「 #! /usr/bin/env perl 」に変更。（※注：バージョンアップして Internal Server Error になる場合は、「 #! /usr/bin/perl 」や「 #! /usr/local/bin/perl 」など、サーバ側の指示に合致するよう書き換えて下さい。）
　■ログインされていない状況で非表示にするためのCSSを、スキン側のCSSに影響されないよう修正。（.Login-Required { display: none !important; } に変更。）
　■各スキンのRSS Auto-Discoveryの記述には、状況に依存しない [[RSS:URL:PURE:FULL]] を使うよう修正。
　《不具合修正》
　■ルビを振られる側の文字列が半角英数だけの場合にルビが振られない不具合を解消。
　■リンクURLの後に半角空白が2つ続くと、リンク先が正しくなくなる不具合を解消。
　■不正な画像ファイルが投稿された際に、動作が極端に遅くなる問題に対処。

　[Ver 3.5.0 → Ver 3.6.0]　(2022/03/19)

　《機能追加》
　■サイトマップページを出力する機能を追加。（サイトマップページ用スキンが必要／ ?mode=sitemap で出力）
　	■サイトマップページを表示できるURLを出力するオプション記法 [[SITEMAP:URL]] と [[SITEMAP:URL:FULL]] を追加。
　	■カテゴリリンクで、サイトマップモードを維持したリンクが出力できる記法 [[CATEGORYLINKS:SITEMAP]] と [[CATEGORYLINKS:SITEMAP:FULL]] を追加。
　■SITEMAP XMLを出力する機能を追加。（ ?mode=xmlsitemap で出力）
　■カテゴリをアイコンで表示できる機能・カテゴリの概要文を表示できる機能を追加。
　	■カテゴリ登録時にアイコンURLも登録できる機能を追加。
　	■外側スキン用の [[CATEGORY:TREE:フラグ群]] の記述仕様を追加。（カテゴリツリーで「アイコン、カテゴリ名、概要文、該当件数」を自由な順序で表示可能にする機能を追加）
　	■内側スキン用の [[CATEGORYLINKS:識別子:オプション]] の記述仕様を追加。（該当カテゴリの「アイコン、カテゴリ名、概要文」を自由な順序で表示可能にする機能を追加）
　■Spotifyの埋め込み機能を追加。
　■ページ番号だけを単独で得られる記法 [[INFO:PAGENUM]] を追加。
　■各投稿に「編集リンク」だけでなく「直接削除するリンク」も表示できる[[DELETEURL]]キーワードを追加。
　■本文中に含まれるハッシュタグだけを抜き出せる記述 [[COMMENT:TAGS]] に、サイトマップとして表示されるリンクを出力できるオプション [[COMMENT:TAGS:SITEMAP]] を追加。
　《スキン追加》
　■新スキン「サイトマップページ(skin-sitemap)」を追加。
　■既存の各スキンに「サイトマップページ」用リンクを追加。(ギャラリーモード用スキンと、チャットタイプスキンを除く)
　《設定機能追加》
　■管理画面の投稿記事一覧での表示件数を設定する機能を追加。(デフォルトは100件)
　■Spotify埋め込みボタンの表示機能を追加。
　■OGPの出力で「og:descriptionにもog:titleと同じ内容を出力する」オプション設定を追加。
　■ハッシュタグに全角文字と半角文字を混ぜたときの角括弧を表示上では消す(見えなくする)機能を追加。
　■ハッシュタグ簡単入力機能の先頭に『「#」記号だけを単独で入力できる項目』の追加機能を追加。
　《不具合修正》
　■ギャラリーモードで、skin=パラメータを使って別スキンを適用しているとき、[[PARMAURL:PURE]] の記述を使っても、デフォルトスキンではなく、現在適用中のスキンが維持されてしまう不具合を解消。
　■一時適用中のスキンを適用しないリンクが出力されるハズの各記法、[[PARMAURL:PURE]]、[[USERURL:PURE]]、[[CATEGORYLINKS:PURE]] が、設定によっては正しく動作しなかった不具合を修正。
　■新着リスト（最近の投稿）の文字数表示で、大幅に値が増えてしまう不具合を修正。
　■投稿1行目に文字装飾記法やエスケープ記法等が含まれているとき、新着リスト（最近の投稿）でのタイトルの表示がおかしい（各種記法ソースがそのまま表示されてしまう）不具合を解消。

　[Ver 3.4.0 → Ver 3.5.0]　(2021/12/24)

　《機能追加》
　■下書き(非公開)保存機能を追加。
　■下書き機能に付随して、データファイルの仕様を拡張。(※バージョンダウンしてもデータは使用可能ですが、下書き指定された投稿は通常投稿と同じように表示されます。)
　■下書き機能に付随して、管理画面の投稿一覧で「下書き」状態の投稿だけを特別な装飾で表示する機能を追加。
　■下書き機能に付随して、管理画面の投稿一覧で「下書き」状態の投稿だけを検索できる機能を追加。(draftで検索)
　■編集した投稿を（先頭固定はせずに）先頭に移動できる機能を追加。
　■画像の縦横サイズを自動取得する機能を追加。(GIF,PNG,JPEG,SVGのみ)
　■画像を表示するimg要素の出力時に、width属性とheight属性を含めて出力できる機能を追加。
　■画像のアップロード時に、元のファイル名をできるだけ維持してアップロードする機能を追加。(ファイル名が、半角の「英字・数字・ドット・アンダーバー」のどれかだけで構成されている場合のみ)
　■代替文字を含めて画像を挿入できる [PICT:代替文字:ファイルパス] の記法を追加。
　■指定番目の画像だけを挿入する [[ONEPICT:n]] 記法を追加。(n=1以上の数値)
　■ギャラリーモード用スキンを、新記法を使うように更新。
　■画像挿入記法 [PICT:ファイル名] で、ファイル名に「/」記号を含めてサブディレクトリ内に存在する画像も指定可能に。
　■画像挿入記法 [PICT:ファイル名] で、「/」で始まる絶対パスや「../」で始まる相対パスを使って、画像保存用ディレクトリ以外の場所にある画像も挿入可能に。
　■画像挿入記法で [PICT:URL] の書き方も可能になり、「http://」または「https://」で始まるURLを使って画像を挿入可能に。（※この書き方だと、外部サーバにある画像でもギャラリーモードに表示されます。）
　■本文中に含まれているハッシュタグだけを抜き出す記法に、ギャラリーモードでの表示を維持できる [[COMMENT:TAGS:GALLERY]] 記法を追加。
　■カテゴリ一覧リンクを出力する記法に、ギャラリーモードで表示されるリンクを出力できる  [[CATEGORYLINKS:GALLERY]] と [[CATEGORYLINKS:GALLERY:FULL]] を追加。
　■指定された代替文字だけを取得できる [[GETALT:PICT:n]] の記法を追加。(n=1以上の数値)
　■ログイン画面に、タイトルや概要やOGP画像を（設定されていれば）表示される機能。
　《設定機能追加》
　■画像の代替文字をLightbox系スクリプトのキャプションとして出力できるようにする属性名の設定機能を追加。
　■ドキュメントルートのサーバパスを手動設定できる項目を追加。(デフォルトでは環境変数から自動取得)
　■画像表示の設定項目に「投稿画像保存用ディレクトリの外にある画像の表示」を追加し、『任意のディレクトリにある画像の表示を許可する』と『画像をURLで指定可能にする』の設定機能を追加。
　《画面UI改良》
　■管理画面のカラーテーマを3つ追加。
　■画像管理画面からの新規画像投稿ステップの省力化（画像管理画面から画像を投稿した際の報告単独画面を廃止し、画像一覧画面上にアップロード報告を表示するよう仕様改良）。
　■投稿欄の下部に「任意画像の挿入」ボタン（＝[PICT:×××]記法を挿入できるボタン）の表示機能を追加。
　■投稿欄のボタン設定に、新規画像投稿フォームの表示/非表示や、任意画像の挿入ボタンの表示/非表示を選択できる機能を追加。
　■URL特殊表示側の画像表示設定部分を標準では非表示にしてボタンクリックで表示されるよう変更。(※機能そのものに変更はありません。)
　■「機能」ボタン押下で表示される「先頭固定チェックボックス」と「読み上げボタン」の左右を変更（※「先頭固定」が先にあると、カテゴリの選択チェックボックスと連続して紛らわしいため）。
　■ハッシュタグ簡単入力機能のデフォルト挿入個数を20にした上で「増やす」項目を追加。
　《仕様改善》
　■管理画面を出力するHTTPヘッダに「cache-control: no-cache」を追加。(※管理画面のみ)
　■投稿画像保存用ディレクトリ（imagesディレクトリ）へFTPでUPしても大丈夫なように仕様改善。
　■投稿本文内に含まれる画像のURLだけを取得できる [GETURL:PICT:n] 記法では、有効ではない画像挿入記法を無視して、有効な記法の中から指定順位の値を返すよう仕様改良。
　■2つ以上の半角空白文字が連続する際に（文字実体参照に置き換えることで）空白量をそのまま表示できる機能を追加。（OFFにも設定可能）
　■SSI機能の上位階層参照を最初から解禁しておくようデフォルト値を変更。
　《不具合修正》
　■サーバのエラーログに「Use of uninitialized value～」と出力される問題を解決。（Ver 3.4.4β以降で発生していた問題）
　■スキンの一時適用時に、一部でURLに「skin=xxxxx」が二重に出力される問題を解消。
　■管理画面の投稿一覧画面で、絞り込み検索の文字列に「#」記号を使うと、2ページ目以降のリンクが正しく機能しない不具合を解消。

　[Ver 3.3.0 → Ver 3.4.0]　(2021/09/23)

　《機能追加》
　■複数のカテゴリを同時に表示できる機能を追加。
　■画像一覧画面からの埋込用コードの簡単コピー機能を追加。
　■投稿日付等で、西暦を2桁で出力する新記法「y」を追加。
　■投稿日付等で、年を和暦で出力する新記法「R」=和年(元号+年数)、「r」=和年(元号なし年数だけ)を追加。
　■月日を2桁固定ではなく、先頭の0を付加せず表示できる新記法「G」=月(先頭0なし数値)、「N」=日(先頭0なし数値)を追加。※全表記は、 Y=年(西暦)、y=年(西暦下2桁)、R=和年(元号+年数)、r=和年(元号なし年数だけ)、M=月(2桁固定)、G=月(1～2桁)、J=月(和暦)、E=月(英長)、e=月(英短)、D=日(2桁固定)、N=日(1～2桁)、W=曜日(英長)、w=曜日(英短)、B=曜日(和長)、b=曜日(和短)、h=時、m=分、s=秒で取捨選択順序自由。それ以外の文字はそのまま出力。
　■投稿本文を合成音声で読み上げる機能を追加。
　■投稿入力欄に入力した内容を合成音声で読み上げる機能を追加。
　■ギャラリーモードでも skinパラメータを使って任意のスキンが適用可能になり、複数のギャラリー用スキンを併用可能に。
　■RSSモードでも skinパラメータを使って任意のスキンが適用可能になり、複数のRSS用独自スキンを併用可能に。
　《設定機能追加》
　■先頭に固定する投稿の場合は、投稿日時として何を出力するか選択できる機能を追加。
　■日付境界バーの日付表記を設定できる機能を追加。
　■日付一覧の月を2桁固定で表記するか、1～2桁で表記するかを選択できる機能を追加。
　■投稿欄下部の「機能」ボタンを押下した際に表示される内容の取捨選択機能を追加。
　■管理画面上の新規投稿/編集画面で、外部に用意したCSSファイルやJavaScriptファイルを読み込めるオプションを追加。
　■ライセンスを取得している場合に、管理画面HOME右上に見える「このCGIについて」枠の一部または全部を非表示にできる機能を追加。
　《画面UI改良》
　■管理画面の「設定」で、画面下端にも（画面上端と同じ）切り替え用タブを配置。
　■管理画面の「設定」画面で、「上端へ／下端へ」ボタンを右下に半透明で固定配置。
　■投稿欄にボタンクリックで装飾記法等を挿入する際、(スマートフォン端末など)画面幅が1024px以下の場合には、設定値に関係なく「事前の範囲選択」を求めずに挿入されるように仕様改良。
　■管理画面の投稿一覧表で、各投稿の抜粋を画面幅に合わせて最大90文字まで表示できるよう拡張。画面幅が狭い場合には文字サイズを小さくして最大5行表示されるように改良。
　■管理画面の右上に「管理画面TOPへ戻るボタン」が常に表示されるよう改良。
　■スマートフォンサイズの端末で管理画面にアクセスした際には、ヘッダ部分を小さくして操作UI部分を広くするよう改良。
　《仕様改善》
　■状況に応じた見出しに日付が表示される際の「2021年08月09日の投稿」等の表記も、「2021年8月9日」のように1～2桁で表記するよう改善。
　■カレンダーの月数を（2桁固定ではなく）1～2桁で表記するよう改善。
　■ユーティリティリンク枠の日付表記の月や日を（2桁固定ではなく）1～2桁で表記するよう改善。
　■投稿欄の「機能」ボタンを全ユーザに表示される仕様に変更し、「先頭固定」チェックボックスだけを管理者権限(Lv.9)がないと表示されない仕様に変更。
　《不具合修正》
　■角括弧付きハッシュタグが出現したあと、次に何らかの閉じ各括弧「 ] 」が現れるまでの間に存在する別のハッシュタグのリンクが無効になってしまう不具合を修正。
　■角括弧付きハッシュタグの内側に「#」記号があるとき、ハッシュタグとしては認識されるもののリンク先が正しくなかった不具合を修正。
　■パラメータがおかしい場合のエラーメッセージが、Ver 3.3.0 の新仕様に合致していなかった問題を修正。

　[Ver 3.2.0 → Ver 3.3.0]　(2021/06/30)

　《機能追加》
　■マイナス検索（除外検索）機能を追加
　■OR検索機能を追加
　■Lightbox以外の画像拡大スクリプトを読み込む機能を追加
　■画像リンクに、指定のclass名を付加する機能を追加
　■複数月のカレンダーを同時に表示できる記法を追加
　■前後の月へ移動するリンクの出力機能を追加
　■表示できる投稿が1件も存在しない場合に表示されるメッセージを自由に指定できる機能を追加
　■過去年も含めた同一月日の投稿を一括して閲覧できる「長年日記（n年日記）」表示機能を追加
　■先月以前も含めた過去月の同一日の投稿を一括して閲覧できる「n年m月日記」表示機能を追加
　■日付限定表示用のパラメータの記法を拡張
　《設定機能追加》
　■画像としてアップロードを許可するファイル拡張子リストを編集できる設定項目を追加
　■ユーティリティ枠に、カテゴリ維持リンクも加えられる設定を追加
　■ユーティリティ枠内の表示項目を細かく取捨選択できる設定項目を追加
　《画面UI改良》
　■ボタンを使って専用記法を挿入した後、カーソル位置を挿入位置の直後に戻す(移動する)よう仕様を改善
　■範囲選択せずに装飾記法を追加する場合、追記位置(カッコの内側)にカーソルを移動するよう修正
　■任意URLリンクで、範囲選択せずに挿入可能な設定の場合で、実際に範囲選択されていなければ、「リンク」を仮ラベルとして入力しておく仕様に修正（そのまま投稿しても正しくリンクになるように）
　《仕様改善》
　■複合検索窓の「カテゴリ」欄で、カテゴリIDを表示せず、該当件数を表示するよう仕様変更
　■複合検索窓の「カテゴリ」欄で、カテゴリなしの表現を「カテゴリ管理画面でのカテゴリなし設定文字列」に合わせる仕様
　■どのカテゴリにも属していない投稿だけが表示される場面の [[SITUATINO:～]] 記法では、カテゴリなしを表す独自名称をツリーに加えている場合にはその名称を出力するよう仕様改善
　■表示対象が1件も存在しない場合でも、パラメータに年と月の指定があるなら、指定年月のカレンダーを表示する仕様に変更
　■箱形カレンダーの各日を構成するセル(td要素)に、曜日を示すclass名（mon～sun）を出力するよう仕様改善
　《不具合修正》
　■角括弧を使ったハッシュタグの中に特定の文字を書くと表示が崩れる不具合を解決
　■管理画面のTOPを表示する際に、Webサーバのログに「Argument "" isn't numeric in numeric ne (!=) at tegalog.cgi line 4348.」というアラートが記録される点を解消
　■画像管理画面での画像一覧表示で、掲載が許可されているファイルのチェック機構が緩かった点を見直し

　[Ver 3.1.0 → Ver 3.2.0]　(2021/03/16)

　《機能追加》
　■複合検索窓の出力機能
　■全文検索でカテゴリIDもヒット可能に
　■画像管理画面に「その画像を使用している投稿」を探して一括閲覧できる機能を追加
　■ルビを振る装飾記法を追加
　■「その投稿に含まれている画像の個数」を得られる記法 [[PICTCOUNT]] の追加
　《設定機能追加》
　■ページ番号リンクで「ページ番号とページ番号の間に挿入する記号」を加えられる設定を追加
　■「状況に応じた見出しの表示」に表示される「該当件数」や「ページ番号」を表示するかどうかを選択できる設定を追加
　■「リンク」ボタンで現れる5つのボタンの取捨選択機能を追加
　■「装飾」ボタン群に、ルビを振る装飾記法を挿入するボタンを追加
　■「装飾」ボタン群に、自由装飾ボタンを追加
　■「装飾」ボタンで現れる各ボタンのラベルを自由に設定する機能を追加
　■「続きを読む」ボタンによって隠された範囲を表示する際に、隠されていた対象要素を inline, inline-block. block のどれで表示するかを指定できるようにする機能を追加
　■時刻調整を0.5時間単位に詳細化
　■事前に範囲選択していなくても文字装飾記法を挿入できるようにするオプションを追加
　《画面UI改良》
　■画像管理画面や投稿一覧表の上部にページネーション（ページ番号リンク）を表示（ページ番号リストの途中を省略するかどうかも設定で選択可能）
　■管理画面の「投稿の削除/編集」リストに、所属カテゴリIDも表示されるように改良
　■管理画面の「投稿の削除/編集」リストでの冒頭抜粋18文字に、装飾記法等の特殊記法がそのまま出てしまう問題を解消
　■管理画面の「投稿の削除/編集」リストで、任意の検索語で絞り込める機能を追加
　■PWの入力を間違えて再ログインになった再に、ユーザIDの選択状態を覚えておく仕様に改良
　《カスタマイズ仕様の追加》
　■「その投稿が属しているカテゴリ名を表示するためのマークアップ」(＝[[CATEGORYLINKS]]や[[CATEGORYNAMES]]で挿入される）では、カテゴリIDそのものを「cat-」の接頭辞と共にclass属性値に加える仕様を追加
　■状況に応じた装飾ができるように、記法 [[SITUATION:CLASS]] を追加
　■状況に応じた見出しに表示される「そのとき限定されている内容名」をspan要素でマークアップして個別にclass名を割り振る機能を追加
　《記述仕様の追加》
　■本文中に \[ と書いたり \] と書いたりすれば、自動的に数値文字参照に置き換える仕様を追加
　■コロン記号も \: で数値文字参照にエスケープされる仕様を追加
　■カッコの対応が取れているなら、装飾範囲内に角括弧を書いても大丈夫なように（＝無効化されないように）仕様を改良
　《その他の仕様改善》
　■「指定No.リンク」ボタンで番号を入力する際、余分な空白文字が含まれていても自動削除するよう仕様を改良
　■「そのときに限定されている表示内容」に限定したRSSフィードへのリンクが出力される仕様に変更（従来通り、常に全体のRSSフィードを返すための記法も追加）
　■「カテゴリなし」の投稿だけを一括閲覧する機能を追加
　■「カテゴリなし」の場合でも、「なし」の文字列をリンクにする機能を追加
　■YouTubeの埋め込み処理に、遅延読込用の属性「loading="lazy"」を追加するよう改良
　《不具合修正》
　■サーバ側のhttpsの仕様によっては、httpsとhttpが異なるだけで「CGIの設置ドメインとは異なる場所からデータが送信されました。リクエストは受け付けられませんでした」のエラーが表示されてしまう不具合を修正
　■Ver 3.1.0以降から、エクスポート画面の「投稿日付」欄に、日付がリストアップされなくなってしまった不具合を解決
　■記法 [[INFO:LASTUPDATE]] で挿入できる最終更新日時が、「システム設定」の「時刻設定」で設定された「ずらす時間」を考慮していなかった不具合を修正
　■内側スキンに [[COMMENT:TAGS]] の記述があるとき、「続きを読む」機能が使われている投稿を表示すると表示が崩れる可能性がある不具合を修正。

　[Ver 3.0.0 → Ver 3.1.0]　(2020/12/20)

　《機能追加》
　■任意の投稿を先頭に固定する機能。（固定可能な個数は無制限）
　■カレンダーの先頭列に曜日を表示可能に。（非表示も可能）
　■ハッシュタグをプルダウンメニューの形式で表示する機能。[[HASHTAG:PULL]] と [[HASHTAG:PULL:JS]] の記法を追加。
　■カテゴリ一覧をプルダウンメニューの形式で表示する機能。[[CATEGORY:PULL]] と [[CATEGORY:PULL:JS]] の記法を追加。
　《細かな機能/仕様の追加・改善》
　■設定画面の上部にショートカットリンクを表示。
　■そのページ内での表示順を整数で得られる [[LOOPCOUNT]] 記法を追加。
　■ランダムな数値を挿入する [[RANDOM:10]] 記法を追加。(1～指定数値の間の整数が得られる。1と指定数値も含む。最大10桁)
　■キーワード [[USERURL]] にも、フルパス・デフォルトスキン指定用の [[USERURL:FULL]] , [[USERURL:PURE]] , [[USERURL:PURE:FULL]] を追加。
　■キーワード [[CATEGORYLINKS]] にも、デフォルトスキン指定用の [[CATEGORYLINKS:PURE]] , [[CATEGORYLINKS:PURE:FULL]] を追加。
　■削除ボタンの見た目をシンプルに作り替え。
　《細かな仕様改善》
　■ページネーションの設定項目では空欄のままも許容する仕様に変更。
　■モバイルアクセス時だけ、新規投稿(編集)画面のヘッダの文字サイズを大幅に小さくして、画面をできるだけ広く確保できるように。
　■キーワード [[HASHTAGLIST]] を [[HASHTAG:LIST]] でも書けるように仕様追加。(従来の書き方もそのまま使用可能。)
　■画像管理画面から画像をUPしたら、その結果表示画面で、埋め込むためのコードと表示プレビューリンクを表示。
　《付属スキン改良》
　■Twitterっぽいスキン(ブルー/ピンク)にも、New!サインを表示できるように修正。(先頭固定サインの表示に必要)
　《不具合修正》
　■ハッシュタグの中に引用符を含めると無駄にエスケープされた状態で表示されてしまう上、クリックしても「該当なし」になってしまう問題を修正。
　■一部の記号を含む検索語だと正しく検索できなかった問題を修正。
　■パスワードの変更時に、確認用パスワードが一致しなかった場合の再入力画面がおかしい（新規作成画面に遷移してしまう）問題を修正。
　■1行目に「続きを読む」系の出力があるとき、行分割「TITLE」にJavaScriptソースが含まれてしまう問題を解決。
　■1行目にツイートの埋め込みがあるとき、行分割「TITLE」に埋め込み待ちメッセージが挿入されてしまう問題を解決。
　■管理画面の「設定」を生成するHTMLにいくつかの文法的なミスがあった点を修正。
　■管理画面のカラーテーマをデフォルト配色以外に設定しているとき、「アクセス権限がない」ことを示すグレーアウトができていなかった点を修正。（表示の問題だけで、実際にはクリックしてもアクセスはできませんでしたから実害はありません。）
　■スマートフォン端末で削除確認画面を見たときに、冒頭抜粋部分だけが妙に縦長に伸びてしまう問題を解消。

　[Ver 2.7.0 → Ver 3.0.0]　(2020/10/01)

　《機能追加》
　■カテゴリ分類機能を追加しました。
　■指定ツイートを埋め込む機能を追加しました。
　《細かな改善/仕様追加》
　■URL自動リンクの特殊表示化をする各種ラベル（ [IMG:～]、[YouTube]、[Tweet] ）は、大文字小文字を区別せず記述できるようになりました。
　■CGIの改行コードを[LF]のみに変更しました。（アスキーモードで転送できなくても動作可能になる可能性が高まりました。）
　《不具合修正》
　■ユーザ権限Lv.3～7のユーザが、ある細工をすることで管理者権限を獲得できてしまう不具合を解消しました。

　[Ver 2.6.0 → Ver 2.7.0]　(2020/06/30)

　《機能追加》
　■リンクをボタンクリックで記述できるようになりました。
　■ページ番号リンクを「1・2・3……38・39・40」のように省略表示できるようになりました。
　■ユーザアイコンの表示サイズを管理画面上から変更できるようになりました。
　■投稿ボタンを [Ctrl]＋[Enter]キーでも押せるようになりました。
　■投稿欄の高さを [Ctrl]＋[↓]キーで拡張できるようになりました。
　■「 >>123 」と書くと投稿No.123へのリンクになる記法が使えるようになりました。
　■管理画面の配色(カラーテーマ)を選択できるようになりました。
　■管理画面下部の「てがろぐHOMEに戻る」の文言などを変更できるようになりました。
　■他ユーザの投稿を編集できなくする機能制限を設定できるようになりました。
　《細かな改善/仕様追加》
　■管理画面に表示される各種の表を、小型モバイル端末でも見やすくなるようにしました。
　■装飾やリンクボタンをキャンセルした際に、入力欄内にフォーカスが自動で戻るようにしました。
　■色名などの英数字が全角で入力されても、自動的に半角に変換するよう改良しました。
　■該当投稿が1件もなかった場合には、その場で再カウントできるリンクを表示する仕様になりました。
　■認証情報（ログイン状態）を保持するCookieの取り扱いを、より安全な形態になるよう修正しました。
　《不具合修正》
　■「続きを読む」ボタンの出力HTMLに、余計なid属性が含まれていた点を修正しました。
　■YouTubeの埋め込み枠をモバイル端末で見たときに、動画の縮尺がおかしくなるCSSを修正しました。
　■ギャラリー用スキンで縦長の画像が表示された際に、画像の縦横比(縮尺)がおかしくなってしまう点を修正しました。

　[Ver 2.5.0 → Ver 2.6.0]　(2020/05/12)

　《機能追加》
　■カレンダーの表示機能を加えました。
　■カレンダーを表示するためのキーワード [[CALENDAR]] が外側スキン内で使えるようになりました。
　■新着投稿を指定数個だけリストアップして一覧表示できるようになりました。
　■新着投稿リストを表示するためのキーワード [[LATESTLIST]] が外側スキン内で使えるようになりました。
　■全文検索で、半角の英字に関しては大文字/小文字の違いを無視して検索できるようになりました。
　■スキンを使わずにテキストデータ(プレーンテキスト)としてもエクスポートできるようになりました。
　《細かな改善/仕様追加》
　■管理画面での画像一覧にも遅延読み込み(LazyLoad)が適用されるようになりました。（※現時点ではChromeとFirefoxで有効）
　■DES方式だけでなくMD5方式の暗号化(ハッシュ化)にも対応しました。
　■[YouTube]ラベルを使って動画を埋め込む際、URLに含まれる watch? の直後が v= ではないURLでも認識されるようになりました。
　《不具合修正》
　■1投稿に内部画像が2枚以上含まれているとき、OGPの一部として出力されるOG:Imageには「最初の1枚のURL」ではなく「最後の1枚のURL」が出力されてしまう問題を解決しました。
　■内部スキンで使える記法 [[GETPICT:URL:1]] で、1以外の数値を指定できない（指定しても常に1つ目の画像のURLが返る）不具合を解決しました。
　■OGPが出力される設定になっている場合で、内部画像のある投稿がリクエストされた際に、「Argument "***" isn't numeric in subtraction (-) at tegalog.cgi line 2009」というエラーメッセージがサーバのエラーログに記録されてしまう問題を解消しました。
　■QUICKPOSTから画像を投稿した際に、1枚当たりの容量制限を超過していた場合に「この拡張子を画像として表示することは許可されていません」という誤ったエラーメッセージが挿入されてしまう不具合を修正。
　■検索上の不具合をいくつか修正しました。

　[Ver 2.4.2 → Ver 2.5.0]　(2020/02/10)

　《機能追加》
　■画像の一覧を表示する「ギャラリー」モードを追加。(※ギャラリー用スキンが必要)
　■検索時に、複数の検索語を使って絞り込み検索ができるようになりました。
　■ハッシュタグ限定表示時に、そのハッシュタグが付けられた投稿に限定した検索オプションが表示されるようになりました。
　■日付限定表示時に、その日付の範囲内に限定した検索ができる検索オプションが表示されるようになりました。
　■指定範囲を隠す機能を追加。（※投稿内に [H:～～～] 形式で記述すると、その内側がJavaScriptで隠されます。）
　■ハッシュタグリンクや特定Noリンクを出力する際にも、絶対パスの固定機能を有効にできるようになりました。(ON/OFFを設定可)
　■日付境界バーに表示されるリンクも、絶対URIで出力できるようになりました。
　《操作性の改善》
　■QUICKPOSTへ移動できるショートカットキーの設定機能を追加。（デフォルトでは p ）
　■検索窓にショートカットキーを設定する機能を追加。（デフォルトでは k ）
　■管理画面の新規投稿(or編集)画面で、最初からテキスト入力欄にカーソルを入れておくかどうかを選択できる設定項目を追加。
　《設定》
　■「検索」ボタンのラベルも自由に書き換えられる設定項目を追加。
　■状況に応じた検索オプションを表示するかどうかの設定項目を追加。
　■検索窓にプレースホルダ(placeholder属性)を設定できる項目を追加。
　■投稿枠内に表示される「日時」・「装飾」・「画像」・「＃」などの各ボタンのラベルも自由に書き換えられる設定項目を追加。
　■画像投稿ボタンも、常時展開しておくかどうかを選択できる設定項目を追加。
　■装飾ボタン群の中に「隠す」ボタンも追加。(設定でON/OFFを選択可能)
　■本文中のテキストリンクで、一時適用中のスキンを維持しない設定項目を追加。
　■[>000] の記法で No.000 へリンクされるかどうかを選択できる設定項目を追加。
　■RSSモードで出力に使うスキン名(サブディレクトリ名)を任意に指定できるようになりました。
　《細かな改善/仕様追加》
　■内側スキンの記法 [[PARMAURL:PURE]] で、デフォルトスキンのURLを相対パスで出力。
　■内側スキンの記法 [[PARMAURL:PURE:FULL]] で、デフォルトスキンのURLを絶対URIで出力。
　■内側スキンの記法 [[ATT:LIGHTBOX]] で、Lightbox用の属性を出力。
　■内側スキンの記法 [[COMMENT:TAGS]] で、本文中に含まれるハッシュタグだけを抽出して出力。
　■外側スキンの記法 [[GALLERY:URL]] で、ギャラリーモードのURLを出力。 [[GALLERY:URL:FULL]] ならフルパスで出力。
　■管理画面での画像一覧表で、縦長の画像が縦方向に長くなりすぎる問題に対処。(縦横共に最大200pxで表示)
　■フルパスでの出力される各種記法を追加：新規投稿リンクの挿入[[NEWPOST:URL:FULL]]、管理画面リンクの挿入[[ADMIN:URL:FULL]]、ランダムリンクの挿入[[RANDOM:URL:FULL]]、RSSリンクの挿入[[RSS:URL:FULL]]
　■内部処理の都合上、文字実体参照・数値文字参照の記述は無条件で許可する仕様になりました。(無効化はできなくなりました)
　■CGIの設置ドメインとは異なる場所からデータが送信された場合には、リクエストが拒否されるようになりました。(安全のため)
　■Lightbox 2.11.1 は、IE11で閲覧した場合に拡大画像の掲載位置がおかしくなるため 2.11.0 を読み込むように修正。
　《不具合修正》
　■スキンを簡易適用させている場合に、自作のRSSスキンを使う設定をすると、 ?mode=rss へのアクセスがエラーになる不具合を修正。
　■その他、細かな問題や非効率的な処理を改善。

　[Ver 2.4.0 → Ver 2.4.2]　(2020/01/09)

　特定の環境(Perlのバージョンが比較的新しい環境)では Internal Server Error になって動作しない不具合を解消。
　OGP＋Twitter Cardの出力を有効にしている状態では、存在しない投稿IDを表示しようとした際にも「存在しない」旨の案内が表示されない不具合を解消。
　個別投稿表示時に、OGPの「og:type」が出力されない不具合を解消。
　必須ファイルが存在しない場合に、エラーメッセージを詳しめに表示するよう改良。
　その他、動作中にいくつかのWarningが（Webサーバのエラーログに）記録されてしまう問題を解消。

　[Ver 2.3.0 → Ver 2.4.0]　(2019/12/28)

　OGP＋Twitter Cardを出力できるようになりました。
　複数個の画像を同時にアップロード(投稿)できるようになりました。(仕様上の上限個数はありません)
　画像をアップロードする際に、複数画像を同時に選択できるようにするかどうかのON/OFFを設定できるようになりました。
　投稿本文と同時に画像をUPした際にも、画像アップロード関連のエラーの詳細(容量超過や許可形式外など)を表示するように仕様を変更しました。
　ページ移動ナビに表示される「次の30件／前の30件」のようなリンクラベルで、件数の表示を省略できるオプションを追加しました。
　任意の記事番号へリンクできる専用記法を加えました。本文中に [>654] と書くと654番の投稿単独ページへリンクでき、 [>654:ラベル] と書くと654番の投稿単独ページへ指定のラベルでリンクできます。
　画像が省略される場面で、画像の代わりに (画像省略) という文字列を挿入するかどうかが設定で選択可能になりました。

　[Ver 2.2.4 → Ver 2.3.0]　(2019/09/30)

　同一ドメイン内に複数個を設置した場合でも、それぞれでログイン状態を維持できるようになりました。(Cookieの接尾辞を設定できるようになりました。)
　画像を使って任意のURLへリンクを作る書き方もできるようになりました。(内部投稿画像・外部画像共に)
　画像も装飾できるようになりました。（文字装飾の範囲内に画像を含められるようになりました。／この仕様によって、掲載画像別に適用CSSを分けることも可能になります。）
　RSSフィードの出力に関する設定ができるようになりました。（出力のON/OFF、収録数の設定など）
　RSSフィードに含める本文の分量を「抜粋」か「全文収録」かを選べるようになりました。（全文収録を選択すれば、画像や文字装飾もそのままRSSフィードに含まれるようになります。）
　RSSフィード用のスキンを自作することで、自由な中身のRSSフィードを出力できるようになりました。
　RSSフィード出力用のサンプルスキンを公開しました。

　[Ver 2.2.0 → Ver 2.2.4]　(2019/08/29)

　《設定/機能追加》
　■既存ハッシュタグの簡単再入力ボタン表示機能を追加しました。（標準では使用頻度の高いハッシュタグを上位から10個までリストアップしますが、個数や表示は自由に設定可能です。※ハッシュタグが1つもないか未集計の場合は、設定にかかわらずボタンは出力されません。）
　■画像表示時に挿入されるLightbox用の属性を書き換えられる設定項目を追加しました。（※従来は「 data-lightbox="tegalog" 」固定でした。）
　■画像にLazyLoad(遅延読み込み)用の属性を付加できる設定項目を追加しました。
　■前後のページへ移動するリンクを表示するかどうかの設定項目を追加しました。
　■1投稿の単独表示時に、前後の投稿ページへ移動するリンクを表示するかどうかの設定項目を追加しました。
　■前後の投稿へ移動する際のリンクラベルを「前置＋No.XXX＋後置」形式で自由に指定できる設定項目を追加しました。
　■ページ移動リンクに表示されるページ番号の桁数を揃えて表示できる設定項目を追加しました。(※標準では、揃えない設定になっています。)
　■1投稿の単独表示時に、状況表示欄に記事番号を表示するかどうかを選択できる設定項目を追加しました。
　■1投稿の単独表示時に、本文の後にユーティリティリンク枠を表示するかどうかの設定項目を追加しました。(全体の表示/非表示を設定できるほか、リンクごとに表示/非表示を選択できます。)
　■アイコンが設定されていないユーザや、削除済みIDに対して表示される「NO IMAGE」アイコンを変更できる設定項目を追加しました。
　《不具合の修正》
　■1投稿の単独表示時で、最初の投稿を表示しているときだけ、次の投稿に移動するリンクが表示されない問題を解消しました。（例：No.1の単独ページにNo.2へのリンクが表示されない問題。）
　■日付一覧のリストに </li> タグの出力が不足していた点を修正しました。
　■ユーティリティリンク群の「投稿日時に関連する投稿」の末尾にも </li> タグの出力が不足していた点を修正しました。
　■1投稿の単独表示時に表示されるページ移動リンクで、次の投稿へ移動するためのリンクに </a> タグが出力されていなかった点を修正しました。
　■その他、管理画面上で設定する際に発生する細かな問題を解消しました。

　[Ver 2.1.0 → Ver 2.2.0]　(2019/08/06)
　《設定/機能追加》
　■「続きを読む」ボタン＋「畳む」ボタンの表示機能を追加しました。（専用記法を使うことで挿入できます。設定でON/OFFを選択可能です。）
　■画像のデフォルト挿入位置を「投稿の先頭」にするか「投稿の末尾」にするか（＋画像の挿入位置の直後を改行するかどうか）を設定で選択可能になりました。
　■削除したユーザや、名前が指定されていないユーザの表示名を設定できる機能を追加しました。
　■画像をテキストでリンクした場合にも、data-lightbox属性を付加できる機能として [ラベル:LB]URL の記法を追加しました。
　■投稿画像をリンクにするかどうかを設定で選択可能にしました。
　■画像を絶対パス(絶対URI)で表現するか相対パスで表現するかを設定可能にしました。
　■絶対パス(CGIが動作する絶対URI)を「自動取得する」か「固定値を設定する」かを選択できる機能を追加しました。（※SSIで埋め込んで利用する際には「固定」化が必要です。）
　■挿入した画像のパス(URL)だけを得る特殊な記法として [[GETURL:PICT:1]] のような文法を追加しました。（※ [[GETURL:PICT:1]] の場合は、1つめの画像のURLだけが相対パスで得られます。）
　■本文全体の抜粋を得る特殊な記法として [[COMMENT:TEXT:120]] のような文法を追加しました。本文全体をプレーンテキスト化した上で指定の文字数だけを取得できます。
　■個別表示時にも前後への移動リンクを表示する機能を追加しました。従来の「ユーティリティ枠」ではなく「ナビゲーション枠」に移動リンクが表示されます。
　《操作性改善》
　■1文字以上が入力されている状況で「他のIDに切り替える」を選択した際に、JavaScriptで移動して良いかどうかを確認する機能を追加しました。
　■装飾時の色名が、16進数でも入力可能になりました。
　■外部に存在する画像のURLを指定して挿入するためのボタンを追加しました。
　《細かな改善/仕様追加》
　■[IMG:*] の記法を使った外部画像に対して、拡大表示リンクとしてLightboxを使うかどうかは、別設定に分離しました。
　■ユーザアイコン画像のalt属性値に「Icon of USERID」の形式でID名を含めるよう変更しました。
　■「設定変更完了」画面で、サブディレクトリ backup や images が存在しない場合にはそう注意を表示するようにしました。(それらのサブディレクトリが動作に必要な場合に限ります。)
　■ランダム表示機能 mode=random で、削除済みのIDが候補に挙がらないようになりました。
　《仕様変更》
　■装飾「引用」のマークアップを、blockquote要素ではなく q要素に変更しました。※過去のバージョンからバージョンアップする場合、そのままだとブロックにならないので、CSSを加える必要があります。
　《不具合修正》
　■新規投稿時に、ウェブサーバのエラーログにWarningが記録されてしまう点を（さらに）解消しました。
　■投稿画像の表示時に、問答無用でLightbox用属性を付加していた不具合を解消（設定を反映するように変更）しました。

　[Ver 2.0.0 → Ver 2.1.0]　(2019/05/08)
　RSSフィードの出力機能を追加しました。
　投稿本文の特定行のみを抽出表示する機能を追加しました。「1行目をタイトル、2行目以降を本文」などとして表示することも可能になりました。
　ランダム表示機能を追加しました。
　投稿画像サイズの上限を制限しない設定にもできるようになりました。
　最終更新日時を挿入できる外側スキン用キーワードを追加しました。
　月の名称を文字で表現する機能を追加しました。和暦(睦月～師走)、英語(Jan～Dec)などを表示できます。
　ブログタイプスキンを新規追加しました。タイトル付きのブログのように表示できます。
　既存の標準添付７種類のスキンも新機能(RSS出力機能など)に合わせて更新しました。
　画像の容量制限をMB単位やKB単位で指定できるようになりました。
　RSSフィードのURLを出力する外側スキン用キーワードを追加しました。
　絶対URLで「てがろぐHOMEへ戻るURL」を挿入できる外側スキン用キーワードを追加しました。
　絶対URLで「パーマリンクURL」を挿入できる内側スキン用キーワードを追加しました。
　過去の投稿を編集する画面から新規扱いで投稿した場合の日付に関する不具合を解消しました。
　ウェブサーバのログファイルにWarningが記録されてしまう可能性がある問題を解消しました。

　[Ver 1.4.1 → Ver 2.0.0]　(2019/03/27)
　画像の投稿や管理が可能になりました。(画像だけをアップロードすることも、本文と同時に画像を投稿することもできます。)
　Lightboxが必要な状況でだけ、動的に jQuery＋Lightboxを読み込む [[JS:LIGHTBOX:JQ]] や、Lightboxだけを読み込む [[JS:LIGHTBOX]] が外側スキン内で使用可能になりました。
　スキンに外部ファイルを合成できるSSI(Server Side Include)機能を搭載しました。外側スキン内に [[INCLUDE:ファイル名]] の書式で挿入できます。(※標準設定では上位ディレクトリの参照は不可。CGIソース冒頭で設定可能。)
　表示対象になっている投稿の数を挿入する [[INFO:TARGETPOSTS]] が外側スキン内で使用可能になりました。
　過去投稿数が100件を超えている場合には、管理画面での投稿一覧を100件ずつ表示するようになりました。(数が多くても表が無駄に縦長にならなくなりました。)
　管理画面でのデータサイズ表記では、KBやMBなどの単位付き数値で表示するようになりました。
　総ページ数を超えるページ番号が指定された場合に、無駄なページが生成されるのを防くよう仕様を変更しました。
　設定画面上の軽微な不具合を解消しました。
　ウェブサーバ側のログファイルにWarningが大量に記録されてしまう可能性がある問題を解消しました。
　標準添付のスキンを改良しました。

　[Ver 1.4.0 → Ver 1.4.1]　(2019/01/12)
　投稿日時の文字列を手動で設定(修正)できる機能を加えました。(ただし、標準設定ではOFFになっています。)
　存在しない日時を投稿日時に設定できるオプションを加えました。(ただし、標準設定ではOFFになっています。)
　※これらの機能をONにするには、管理画面の「設定」2ページ目にある当該チェックボックスにチェックを入れて保存して下さい。
　「Twitterっぽいスキン」のCSSを微修正しました。(ブルー版・ピンク版とも)

　[Ver 1.3.3 → Ver 1.4.0]　(2018/11/07)
　本番採用するスキンを管理画面上からの操作で変更可能になりました。(従来通り一時的な試験採用も可能)
　文字装飾ボタンを搭載し、投稿画面上から簡単に文字装飾記法を挿入できるようになりました。(表示するボタンは設定画面で選択可能)
　管理画面で投稿一覧を表示した際に、見やすいようタグを除外して表示するようになりました。
　全員一括強制ログアウト機能に、JavaScriptによる事前確認を挟むようになりました。(安全のため)
　画像リンクに data-lightbox 属性を自動で付加し、Lightbox対応を支援できるようになりました。
　出力時の無駄な記述を若干削減できる機能を加え、より軽く(通信量を削減して)動作するようになりました。
　スキン(標準スキンも別スキンも)のHTML・CSSソースを本バージョン用に新しくしました。(引用直後の無駄な空行をなくせます。)

　[Ver 1.3.0 → Ver 1.3.3]　(2018/08/17)
　文字が装飾されていたり、文字実体参照などが使われている場合でも、正しく文字数をカウントできるようになりました。
　YouTube動画を埋め込めるようになりました。埋め込むかどうかは設定でON/OFFできます。(試験実装)
　既存のIDと同じID名で新規にユーザアカウントを作成する操作をした際に発生する不具合を解消しました。
　データファイルが読めなかった場合に Internal Server Error になってしまう不具合を解消しました。
　カバースキンが正しく書かれていない(正しく指定されていない)場合にも、ページを表示してしまう不具合を解消しました。
　動作にセーフモードを追加しました。CGIソース冒頭で設定できます。(script系タグを無効にするなど)
　パスワードが未設定のユーザを、ログイン画面に表示させない設定もできるようになりました。(標準では表示します)
　全員のパスワードが未設定の場合は、ページ生成をしない設定もできるようになりました。(標準では生成します)

　[Ver 1.2.1 → Ver 1.3.0]　(2018/06/22)
　文字装飾機能を追加。専用記法を使って、太字・色名・取消線・強調・斜体・背景色・引用・文字サイズ(小さめ・極小)・下線の装飾が可能に。
　URLの直前に画像専用ラベル[IMG]を付加することで、指定URLを画像として埋め込んで掲載可能に。

　[Ver 1.2.0 → Ver 1.2.1]　(2018/02/03)
　非ログイン状態でも投稿欄を表示する設定にしている際に、2行以上書いた場合の2行目以降や、ハッシュタグを書いた場合のタグ以降が、ログイン後の投稿画面に引き継がれずに消えてしまう不具合を解消。

　[Ver 1.1.0 → Ver 1.2.0]　(2017/12/21)
　サーバの日付がローカル時刻とずれている場合(外国サーバを利用しているなど)に、-23時間～+23時間の範囲で指定時間だけ日時表記をずらせる機能を搭載。
　再編集後には、HOMEではなく編集した投稿の単独ページを表示する設定が可能に。(デフォルトではそう設定されています。常にHOMEへ戻る設定も可能。)
　書かれたURLを自動リンクにする際、開く先を別タブにしたりフレーム解除にしたり設定できる機能を追加。
　URLを自動リンクにする際、最初のプロトコル名(http://など)を省略して表示できる設定機能を追加。
　プレースホルダにログイン中のユーザ名を表示するかどうかを選択できる設定機能を追加。
　標準スキンなどに含まれるページのヘッダ部分にあるタイトルや概要分の部分もCGIの管理画面で編集できるようにする機能を追加。(※添付の全スキンも修正しています)
　チャットタイプスキンのレイアウトを改修。

　[Ver 1.0.0 → Ver 1.1.0]　(2017/12/10)
　ハッシュタグの制約仕様を緩和。多バイト文字でも角括弧なしでハッシュタグとして認識可能に仕様変更。
　本文表示時にハッシュタグをリンク化するかどうかを選択する設定項目を追加。
　長すぎるハッシュタグを指定文字数で切り詰められる設定項目を追加。

　[Ver 1.0.0]　(2017/12/07)
　初公開。

　※2006年頃から開発を開始したスキン式の簡易ブログツール「Fumy News Clipper」の後継っぽいCGIとして、2017年8月頃に開発を開始。 

End of File.
